# Live Chess Commentary — Real-Time Personalized AI Commentary for Chess Games

> Built for the **Google Cloud × Datadog × Confluent × ElevenLabs Hackathon (2025)**  
> Challenge Tracks: **Confluent (Primary)**, **ElevenLabs (Primary)**
>
## DEMO VIDEO
> 
[![Demo Video](https://img.youtube.com/vi/EOFJqLg6xrY/hqdefault.jpg)](https://www.youtube.com/watch?v=EOFJqLg6xrY)

> 
---

## Idea

**Live Chess Commentary** is a real-time, voice-driven AI commentator that reacts to a player’s chess game **as it happens**, using their **historical playing tendencies** to deliver **human-style commentary**.

The system analyzes a user’s recent games to understand their habits and style, then listens to a live game stream and produces natural spoken reactions such as:

> “That’s not what {username} usually plays… this is a surprise.”  
> “{username} almost never goes for this structure this could get risky.”

The goal is to make AI commentary feel **opinionated, contextual, and alive**, even to users who don’t understand chess.

---

## Why This Matters

Most AI applications:
- Explain data  
- Summarize facts  
- Optimize metrics  

This project instead focuses on **interpretation**:
- Detecting deviations from expected behavior
- Reacting to live events
- Communicating insight through **human voice**

Chess is the medium.  
**Real-time personalized intelligence** is the product.

---

## Hackathon Alignment

### Confluent Challenge — *AI on Data in Motion*
- Live chess moves are ingested as a real-time event stream
- Stream processing enriches moves with player history and engine context
- AI reactions are triggered directly from streaming data

### ElevenLabs Challenge — *Conversational, Voice-Driven AI*
- Commentary is generated by an LLM and spoken using ElevenLabs
- The experience is fully audio-driven and hands-free
- The AI has a consistent commentator persona and emotional tone

---

## User Flow

1. User enters their **chess.com username**
2. System analyzes the user’s **last 50 games**
3. A player profile is created (openings, tendencies, risk tolerance)
4. User starts a **live game on Lichess**
5. Each move is streamed in real time
6. AI reacts with **spoken commentary** based on:
   - Player history
   - Current position
   - Deviation from expectations

---

## User Stories

- *As a chess player*, I want commentary that reacts to **my habits**, not generic engine output.
- *As a spectator*, I want to understand what’s interesting **without knowing chess theory**.
- *As a judge*, I want to see how real-time data triggers AI decisions and voice output.
- *As an engineer*, I want a clear, observable, event-driven architecture.

---

## Architecture Overview

### Frontend
- React web app
- Username input
- Live game status
- Audio playback of commentary

### Backend (Google Cloud)
- **Cloud Run** services (Python)
- **Vertex AI / Gemini** for commentary generation
- **Cloud Storage / Firestore** for player profiles

### Streaming Layer (Confluent Cloud)
- Apache Kafka topics:
  - `live_moves`
  - `enriched_moves`
  - `commentary_triggers`
- Real-time ingestion from Lichess
- Stream enrichment and filtering

### Chess Intelligence
- Stockfish engine (low depth)
- Opening detection via ECO codes
- Behavioral analysis based on historical games

### Voice Layer
- **ElevenLabs** for real-time voice synthesis
- Single commentator persona
- Emotion-aware delivery (surprise, confidence, tension)

---

## Event Flow (Simplified)

1. Lichess move → Kafka (`live_moves`)
2. Enrichment (history + engine) → Kafka (`enriched_moves`)
3. Commentary trigger → LLM (Gemini)
4. Spoken output → ElevenLabs
5. Audio streamed to frontend

---

## Tech Stack

- **Google Cloud**: Cloud Run, Vertex AI (Gemini), Firestore
- **Confluent Cloud**: Kafka, stream processing
- **ElevenLabs**: Text-to-speech & voice streaming
- **Chess APIs**: chess.com, Lichess
- **Frontend**: React
- **Language**: Python, JavaScript

---

## Deployment

- Frontend hosted on **Vercel / Firebase Hosting**
- Backend services deployed on **Google Cloud Run**
- Kafka managed via **Confluent Cloud**
- Secrets managed with **Google Secret Manager**

---

## Demo Notes

- Commentary is intentionally **selective** (not every move)
- Focus is on **narrative moments**, not accuracy metrics
- Live play is supported, with a recorded fallback for demos

---


## User story (single, core):
As a chess player, I want real-time spoken commentary during my live game that is personalized to my historical style, so I can feel like an expert commentator is reacting to my decisions and key moments without requiring me (or a spectator) to understand chess theory.

Acceptance criteria (tight + testable)

Onboarding: user can link the identity used for historical analysis to the identity used for live play (same platform or explicitly mapped accounts). 

Real-time behavior: after each live move, the system either produces commentary within a bounded time window or intentionally stays silent (selective). 

Personalization: commentary references at least one learned tendency (opening preference, risk level, typical structure) when relevant.

Correctness safety: when engine confidence is low (especially at low depth), commentary avoids definitive claims and uses hedged language. 

Narrative continuity: a single “commentator persona” remains consistent across the session. 

Observability: each move/commentary has a traceable event ID across ingestion → enrichment → LLM → TTS → frontend playback.
